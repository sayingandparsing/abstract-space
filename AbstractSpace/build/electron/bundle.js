!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/home/reagan/code/proj/AbstractSpace/src",n(n.s=10)}([function(t,e){t.exports=require("electron")},function(t,e){t.exports=require("react")},function(t,e,n){"use strict";var o=function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(t){i(t)}}function c(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=o[2&i[0]?"return":i[0]?"throw":"next"])&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[0,r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),a=function(){function t(t){this.updateView=t.stateUpdateCallback(),this.window=i.remote.getCurrentWindow()}return t.prototype.display=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return this.listenForInput(e),[4,this.updateView(t)];case 1:return n.sent(),this.window.hidden&&this.window.show(),[2]}})})},t.prototype.breakChain=function(){this.window.hide()},t.prototype.listenForInput=function(t){window.addEventListener("keydown",function(e){var n=e.key;1===n.length&&t({type:"key",content:n})})},t}();e.SingleViewService=a},function(t,e){t.exports=require("amqplib/callback_api")},function(t,e){t.exports=require("net")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),r=function(){function t(t,e){void 0===e&&(e={}),this.port=t,this.dataHooks=e}return t.prototype.createConnection=function(t){var e=this;this.socket=o.createConnection(t,function(t){t.on("data",function(t){e.handleIncoming(e.parse(t))})})},t.prototype.handleIncoming=function(t){var e=t.type,n=t.data;console.log("reveived message through socket:"),console.log(t),this.dataHooks[e](n)},t.prototype.on=function(t,e){return this.dataHooks[t]=e,this},t.prototype.parse=function(t){return JSON.parse(t.trim())},t.prototype.send=function(t,e,n){void 0===n&&(n=null),this.socket.write({type:t,content:e,meta:n}.toString())},t}();e.ProcessInterface=r;var i=function(){function t(t){this.dataHooks={},this.path=t}return t.prototype.createServer=function(){var t=this;this.server=o.createServer(),this.server.listen(this.path),this.server.on("connection",function(e){e.on("message",function(n){t.handleIncoming(t.parse(n),e)})})},t.prototype.handleIncoming=function(t,e){var n=t.type,o=t.content;this.dataHooks[n](o)},t.prototype.on=function(t,e){return this.dataHooks[t]=e,this},t.prototype.parse=function(t){return JSON.parse(t)},t}();e.IpcServer=i;var a=n(3),c=function(){function t(t){this.dataHooks={},this.name=t}return t.prototype.createServer=function(){var t=this;a.connect("amqp://localhost",function(e,n){n.createChannel(function(e,n){n.assertQueue(t.name,{durable:!1}),console.log("created channel"),n.consume(t.name,function(e){t.handleIncoming(t.parse(e),function(t){console.log("relied to sender");var o=new Buffer(JSON.stringify(t));n.sendToQueue(e.properties.replyTo,o)}),n.ack(e)})})})},t.prototype.handleIncoming=function(t,e){var n,o=t.type,r=t.content;(console.log("received message: "+o),null!==(n=t.hasOwnProperty("subtype")?t.subtype:null))?(0,this.dataHooks[o][n])(r,e):(0,this.dataHooks[o])(r,e)},t.prototype.on=function(t,e){if("string"==typeof t)this.dataHooks[t]=e;else{var n,o=t[0];n=t[1],this.dataHooks[o]={},this.dataHooks[o][n]=e}return this},t.prototype.parse=function(t){return JSON.parse(t.content.toString("utf-8"))},t}();e.RabbitServer=c},function(t,e){t.exports=require("react-dom")},function(t,e,n){"use strict";var o,r=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),a=function(t){function e(e){var n=t.call(this,e)||this;return n.state={selections:[]},n}return r(e,t),e.prototype.stateUpdateCallback=function(){var t=this;return function(e){t.setState({selections:e})}},e.prototype.viewCallbacks=function(){var e=this;return{update:this.stateUpdateCallback(),reset:function(){return t.prototype.setState.call(e,{selections:[]})}}},e.prototype.render=function(){console.log("rendering");var t=this.state.selections.map(function(t){return i.createElement("tr",{className:"list-row"},i.createElement("td",{className:"list-key"},t.symbol),i.createElement("td",{className:"list-value"},t.label))});return console.log(t),i.createElement("table",{className:"list-table"},i.createElement("tbody",null,t))},e}(i.Component);e.AbstractView=a},function(t,e){t.exports=require("events")},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),r=function(){function t(t,e){this.viewEmitter=new o,this.updateViewState=t.stateUpdateCallback(),this.deactivate=e}return t.prototype.resetContext=function(t){console.log(t),this.context={root:t,current:t,level:t.subtree.map(function(t){return t.data}),path:[]},console.log("context"),this.updateViewState(this.context.level)},t.prototype.processKeyEvent=function(t){if("Escape"===t)return console.log("Terminated"),this.callback({type:"failed",path:this.context.path}),void this.deactivate();if(this.context.level.map(function(t){return t.symbol}).indexOf(t)>-1){console.log("update!!!"),this.context.path.push(t);var e=this.context.current;if(console.log("current"),this.context.current=e.subtree[e.subtree.map(function(t){return t.data.symbol}).indexOf(t)],this.isTerminal(this.context.current)){console.log("is terminal");var n=this.context.current;return this.callback({type:"command",path:this.context.path,content:n.command}),void this.deactivate()}var o=this.extractLevel(this.context.current);if(!o)return this.callback({type:"failure",path:this.context.path}),void this.deactivate();this.context.level=o,console.log("updating view state"),this.updateViewState(o)}},t.prototype.sendShutdownSignal=function(){},t.prototype.connectedTo=function(t,e){for(var n=0,o=t.subtree;n<o.length;n++){if(o[n].data.symbol===e)return!0}return!1},t.prototype.extractLevel=function(t){return t.subtree.map(function(t){return t.data})},t.prototype.isTerminal=function(t){return console.log("is terminal?"),void 0!==t.command},t}();e.TreeTraversal=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),r=n(7),i=n(1),a=n(6),c=n(5),s=n(0),u=n(2),l=function(){function t(){var t=this;this.main=document.getElementById("main"),this.a=document.createElement("p"),this.view=a.render(i.createElement(r.AbstractView,null),this.main),this.traversal=new o.TreeTraversal(this.view,this.deactivateSelection),this.viewService=new u.SingleViewService(this.view),this.path="display",this.commandTrees={},this.ipc=new c.RabbitServer(this.path).on("tree",function(e,n){console.log("received tree");var o=e.data.symbol;t.commandTrees[o]=e}).on(["display","tree"],function(e,n){var o=t.commandTrees.standard;console.log("received display request"),null!==o?t.run_traversal(o,n):(console.log("couldn+'t find a tree called "+e),n({type:"failed"}))}).on("chain view",function(e,n){t.viewService.display(e,n)}).on("end chain",function(e,n){t.viewService.breakChain()}).createServer()}return t.prototype.processDisplayRequest=function(t){if(t.hasOwnProperty("subtype"))switch(t.subtype){case"view":break;case"tree":null!==this.commandTrees[t.content]||console.log("couldn+'t find a tree called "+t.content)}else console.log("Expected a subtype for display request")},t.prototype.run_traversal=function(t,e){var n=this;console.log("running traversal"),window.addEventListener("keydown",function(t){if(n.active)try{n.traversal.processKeyEvent(t.key)}catch(t){}}),this.activateSelection(t,e)},t.prototype.activateSelection=function(t,e){this.traversal.callback=e,this.traversal.resetContext(t),this.active=!0,s.remote.getCurrentWindow().show()},t.prototype.deactivateSelection=function(){this.active=!1,s.remote.getCurrentWindow().hide()},t.prototype.publishTraversalState=function(t){},t}();console.log("executing");new l}]);