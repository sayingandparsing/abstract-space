{"code":"!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,\"__esModule\",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"/home/reagan/code/proj/abstract-space/AbstractSpace/src\",n(n.s=11)}([function(e,t){e.exports=require(\"electron\")},function(e,t){e.exports=require(\"react\")},function(e,t){e.exports=require(\"electron-log\")},function(e,t,n){\"use strict\";var r=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,c)}s((r=r.apply(e,t||[])).next())})},o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(0),a=function(){function e(e){this.updateView=e.stateUpdateCallback(),this.window=i.remote.getCurrentWindow()}return e.prototype.display=function(e,t){return r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return this.listenForInput(t),[4,this.updateView(e)];case 1:return n.sent(),this.window.hidden&&this.window.show(),[2]}})})},e.prototype.breakChain=function(){this.window.hide()},e.prototype.listenForInput=function(e){window.addEventListener(\"keydown\",function(t){var n=t.key;1===n.length&&e({type:\"key\",content:n})})},e}();t.SingleViewService=a},function(e,t){e.exports=require(\"amqplib/callback_api\")},function(e,t){e.exports=require(\"net\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(5),o=n(0).remote.getGlobal(\"logger\"),i=function(){function e(e,t){void 0===t&&(t={}),this.port=e,this.dataHooks=t,o.debug(\"Created ProcessInterface\")}return e.prototype.createConnection=function(e){var t=this;this.socket=r.createConnection(e,function(e){e.on(\"data\",function(e){o.debug(\"ProcessInterface received a message\"),t.handleIncoming(t.parse(e))})})},e.prototype.handleIncoming=function(e){var t=e.type,n=e.data;this.dataHooks[t](n)},e.prototype.on=function(e,t){return this.dataHooks[e]=t,this},e.prototype.parse=function(e){return JSON.parse(e.trim())},e.prototype.send=function(e,t,n){void 0===n&&(n=null),this.socket.write({type:e,content:t,meta:n}.toString())},e}();t.ProcessInterface=i;var a=function(){function e(e){this.dataHooks={},this.path=e}return e.prototype.createServer=function(){var e=this;this.server=r.createServer(),this.server.listen(this.path),this.server.on(\"connection\",function(t){t.on(\"message\",function(n){e.handleIncoming(e.parse(n),t)})})},e.prototype.handleIncoming=function(e,t){var n=e.type,r=e.content;this.dataHooks[n](r)},e.prototype.on=function(e,t){return this.dataHooks[e]=t,this},e.prototype.parse=function(e){return JSON.parse(e)},e}();t.IpcServer=a;var c=n(4),s=function(){function e(e){this.dataHooks={},this.name=e}return e.prototype.createServer=function(){var e=this;c.connect(\"amqp://localhost\",function(t,n){n.createChannel(function(t,n){n.assertQueue(e.name,{durable:!1}),o.debug(\"created channel\"),n.consume(e.name,function(t){e.handleIncoming(e.parse(t),function(e){o.debug(\"replied to sender on queue\");var r=new Buffer(JSON.stringify(e));n.sendToQueue(t.properties.replyTo,r)}),n.ack(t)})})})},e.prototype.handleIncoming=function(e,t){var n,r=e.type,i=e.content;(o.debug(\"received cue message: \"+r),null!==(n=e.hasOwnProperty(\"subtype\")?e.subtype:null))?(0,this.dataHooks[r][n])(i,t):(0,this.dataHooks[r])(i,t)},e.prototype.on=function(e,t){if(\"string\"==typeof e)this.dataHooks[e]=t;else{var n,r=e[0];n=e[1],this.dataHooks[r]={},this.dataHooks[r][n]=t}return this},e.prototype.parse=function(e){return JSON.parse(e.content.toString(\"utf-8\"))},e}();t.RabbitServer=s},function(e,t){e.exports=require(\"react-dom\")},function(e,t,n){\"use strict\";var r,o=(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(1),a=n(0).remote.getGlobal(\"logger\"),c=function(e){function t(t){var n=e.call(this,t)||this;return n.state={selections:[]},n}return o(t,e),t.prototype.stateUpdateCallback=function(){var e=this;return function(t){e.setState({selections:t})}},t.prototype.viewCallbacks=function(){var t=this;return{update:this.stateUpdateCallback(),reset:function(){return e.prototype.setState.call(t,{selections:[]})}}},t.prototype.render=function(){a.debug(\"Rendering view\");var e=this.state.selections.map(function(e){return i.createElement(\"tr\",{className:\"list-row\"},i.createElement(\"td\",{className:\"list-key\"},e.symbol),i.createElement(\"td\",{className:\"list-value\"},e.label))});return a.debug(e),i.createElement(\"table\",{className:\"list-table\"},i.createElement(\"tbody\",null,e))},t}(i.Component);t.AbstractView=c},function(e,t){e.exports=require(\"events\")},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(9),o=n(0).remote.getGlobal(\"logger\"),i=function(){function e(e,t){this.viewEmitter=new r,this.updateViewState=e.stateUpdateCallback(),this.deactivate=t}return e.prototype.resetContext=function(e){o.debug(e),this.context={root:e,current:e,level:e.subtree.map(function(e){return e.data}),path:[]},o.debug(this.context.level),this.updateViewState(this.context.level)},e.prototype.processKeyEvent=function(e){if(\"Escape\"===e)return o.debug(\"Terminated\"),this.callback({type:\"failed\",path:this.context.path}),void this.deactivate();if(this.context.level.map(function(e){return e.symbol}).indexOf(e)>-1){o.debug(\"Symbol found for transmitted key\"),this.context.path.push(e);var t=this.context.current;if(this.context.current=t.subtree[t.subtree.map(function(e){return e.data.symbol}).indexOf(e)],this.isTerminal(this.context.current)){o.debug(\"Node is terminal\");var n=this.context.current;return this.callback({type:\"command\",path:this.context.path,content:n.command}),void this.deactivate()}var r=this.extractLevel(this.context.current);if(!r)return this.callback({type:\"failure\",path:this.context.path}),void this.deactivate();this.context.level=r,o.debug(\"updating view state\"),this.updateViewState(r)}},e.prototype.sendShutdownSignal=function(){},e.prototype.connectedTo=function(e,t){for(var n=0,r=e.subtree;n<r.length;n++){if(r[n].data.symbol===t)return!0}return!1},e.prototype.extractLevel=function(e){return e.subtree.map(function(e){return e.data})},e.prototype.isTerminal=function(e){return o.debug(\"Checking if node is terminal\"),void 0!==e.command},e}();t.TreeTraversal=i},function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(10),o=n(8),i=n(1),a=n(7),c=n(6),s=n(3),u=n(0).remote,l=n(2);l.transports.file.level=\"debug\",l.transports.file.file=e+\"log.log\",console.log(l);var p=function(){function e(){var e=this;this.main=document.getElementById(\"main\"),this.a=document.createElement(\"p\"),this.view=a.render(i.createElement(o.AbstractView,null),this.main),this.traversal=new r.TreeTraversal(this.view,this.deactivateSelection),this.viewService=new s.SingleViewService(this.view),this.path=\"display\",this.commandTrees={},this.ipc=new c.RabbitServer(this.path).on(\"tree\",function(t,n){l.debug(\"received tree\");var r=t.data.symbol;e.commandTrees[r]=t}).on([\"display\",\"tree\"],function(t,n){var r=e.commandTrees.standard;l.debug(\"received display request\"),null!==r?e.run_traversal(r,n):(l.error(\"couldn+'t find a tree called \"+t),n({type:\"failed\"}))}).on(\"chain view\",function(t,n){e.viewService.display(t,n)}).on(\"end chain\",function(t,n){e.viewService.breakChain()}).createServer()}return e.prototype.processDisplayRequest=function(e){if(e.hasOwnProperty(\"subtype\"))switch(e.subtype){case\"view\":break;case\"tree\":null!==this.commandTrees[e.content]||l.error(\"couldn+'t find a tree called \"+e.content)}else l.error(\"Expected a subtype for display request\")},e.prototype.run_traversal=function(e,t){var n=this;l.debug(\"running traversal\"),window.addEventListener(\"keydown\",function(e){if(n.active)try{n.traversal.processKeyEvent(e.key)}catch(e){}}),this.activateSelection(e,t)},e.prototype.activateSelection=function(e,t){this.traversal.callback=t,this.traversal.resetContext(e),this.active=!0,u.getCurrentWindow().show()},e.prototype.deactivateSelection=function(){this.active=!1,u.getCurrentWindow().hide()},e.prototype.publishTraversalState=function(e){},e}();l.debug(\"executing\");new p}).call(this,\"/\")}]);","extractedComments":[]}